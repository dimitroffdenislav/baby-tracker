<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–î–Ω–µ–≤–µ–Ω —Ä–µ–∂–∏–º –Ω–∞ –±–µ–±–µ—Ç–æ</title>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#4CAF50">
</head>
<body>
  <div class="wrapper">
    <!-- AUTH -->
    <div class="auth" id="authSection" hidden>
      <h1 class="auth__title">–í—Ö–æ–¥</h1>
      <div class="auth__field">
        <input type="email" id="email" placeholder="–ò–º–µ–π–ª" class="auth__input" />
      </div>
      <div class="auth__field">
        <input type="password" id="password" placeholder="–ü–∞—Ä–æ–ª–∞" class="auth__input" />
      </div>
      <div class="auth__checkbox">
        <input type="checkbox" id="rememberMe" />
        <label for="rememberMe">–ó–∞–ø–æ–º–Ω–∏ –º–µ</label>
      </div>
      <button id="loginBtn" class="auth__button">–í—Ö–æ–¥</button>
    </div>

    <!-- APP -->
    <div id="appSection" class="section-app" hidden>
      <button id="logoutBtn" class="btn-logout">–ò–∑—Ö–æ–¥</button>

      <!-- Tabs -->
      <div class="tabs">
        <button class="tab-btn is-active" data-tab="feedingTab">–•—Ä–∞–Ω–µ–Ω–µ</button>
        <button class="tab-btn" data-tab="sleepTab">–°—ä–Ω</button>
      </div>

      <!-- Shared date -->
      <div class="form__group">
        <label>–î–∞—Ç–∞:<br />
          <input type="date" name="date" required class="form__input" />
        </label>
      </div>

      <!-- FEEDING TAB -->
      <section id="feedingTab" class="tab is-active">
        <form id="entryForm" class="form">
          <div class="form__group">
            <label>–ß–∞—Å:<br /><input type="time" name="time" required class="form__input" /></label>
          </div>
          <div class="form__group">
            <label>–ê–¥–∞–ø—Ç–∏—Ä–∞–Ω–æ –º–ª—è–∫–æ (–º–ª):<br /><input type="number" name="formula" class="form__input" /></label>
          </div>
          <div class="form__group">
            <label>–ö—ä—Ä–º–∞ (–º–ª):<br /><input type="number" name="breastmilk" class="form__input" /></label>
          </div>
          <div class="form__group form__group--checkboxes">
            <label><input type="checkbox" name="poo" /> üí© –ê–∫–∞–ª</label>
            <label><input type="checkbox" name="pee" /> üíß –ü–∏—à–∞–ª</label>
            <label><input type="checkbox" id="breastfeeding" name="breastfeeding" /> üí¶ –ö—ä—Ä–º–µ–Ω–µ</label>
            <div id="breastfeedingTimeContainer" style="display:none;">
              <label>–í—Ä–µ–º–µ –Ω–∞ –∫—ä—Ä–º–µ–Ω–µ (–º–∏–Ω):<br /><input type="number" name="breastfeedingTime" class="form__input" /></label>
            </div>
          </div>
          <div class="form__group form__group--notes">
            <label>–ó–∞–±–µ–ª–µ–∂–∫–∏:<br /><textarea name="notes" class="form__textarea"></textarea></label>
          </div>
          <button type="submit" class="form__button">–î–æ–±–∞–≤–∏</button>
        </form>

        <div class="table-wrapper">
          <table class="table">
            <thead>
              <tr class="table__row">
                <th class="table__header">–î–∞—Ç–∞</th>
                <th class="table__header">–ß–∞—Å</th>
                <th class="table__header">–ê–¥–∞–ø—Ç–∏—Ä–∞–Ωo (–º–ª)</th>
                <th class="table__header">–ö—ä—Ä–º–∞ (–º–ª)</th>
                <th class="table__header">–ê–∫–∞–ª</th>
                <th class="table__header">–ü–∏—à–∞–ª</th>
                <th class="table__header">–ö—ä—Ä–º–µ–Ω–µ</th>
                <th class="table__header">–ó–∞–±–µ–ª–µ–∂–∫–∏</th>
                <th class="table__header">–î–µ–π—Å—Ç–≤–∏—è</th>
              </tr>
            </thead>
            <tbody id="dataTable"></tbody>
          </table>
        </div>

        <div id="summary" class="summary"></div>
      </section>

      <!-- SLEEP TAB -->
      <section id="sleepTab" class="tab">
        <form id="sleepForm" class="form">
          <div class="form__group">
            <label>–ù–∞—á–∞–ª–æ (—á–∞—Å):<br /><input type="time" name="start" required class="form__input" /></label>
          </div>
          <div class="form__group">
            <label>–ö—Ä–∞–π (—á–∞—Å):<br /><input type="time" name="end" required class="form__input" /></label>
          </div>
          <div class="form__group form__group--notes">
            <label>–ó–∞–±–µ–ª–µ–∂–∫–∏:<br /><textarea name="notes" class="form__textarea"></textarea></label>
          </div>
          <button type="submit" class="form__button">–î–æ–±–∞–≤–∏ —Å—ä–Ω</button>
        </form>

        <div class="table-wrapper">
          <table class="table">
            <thead>
              <tr class="table__row">
                <th class="table__header">–î–∞—Ç–∞</th>
                <th class="table__header">–ù–∞—á–∞–ª–æ</th>
                <th class="table__header">–ö—Ä–∞–π</th>
                <th class="table__header">–ü—Ä–æ–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ—Å—Ç</th>
                <th class="table__header">–ó–∞–±–µ–ª–µ–∂–∫–∏</th>
                <th class="table__header">–î–µ–π—Å—Ç–≤–∏—è</th>
              </tr>
            </thead>
            <tbody id="sleepTable"></tbody>
          </table>
        </div>

        <div id="sleepSummary" class="summary"></div>
      </section>
    </div>
  </div>

  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/baby-tracker/sw.js', { scope: '/baby-tracker/' })
          .then(() => console.log('SW registered for /baby-tracker/'))
          .catch(err => console.error('SW registration failed', err));
      });
    }
  </script>

  <!-- –í–∞–∂–Ω–æ: –ø—ä—Ç—è—Ç –¥–∞ —Å—ä–≤–ø–∞–¥–∞ —Å—ä—Å —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ç–∞ —Ç–∏ -->
  <script type="module" src="/baby-tracker/js/app.js"></script>
</body>
</html>
